# 多用串口工具

一个多功能串口工具在硬件的开发过程中无论是调试还是固件烧录都是很有益处的。

## 1. 起因

&nbsp;&nbsp;我最近玩的硬件都是上海乐鑫公司的ESP32或者是ESP8266系列的芯片，所以我需要一个既能进行串口传输又能利用乐鑫系列芯片自动下载的串口工具。上海乐鑫的芯片自己的运行模式下载模式，其实在他们的芯片datasheet中已经明确的给出了。主要是通过io0和en这两个GPIO进行控制。通常我们进行这样的控制都需要串口芯片的DTR和RTS这两个信号进行控制，鉴于这两个信号需要存在的前提，那串口芯片的选型就有了依据了。

## 2. 串口芯片的选型

&nbsp;&nbsp;我对于芯片的选型其实很简单，第一：便宜，第二：满足我的需求即可。也就是说我的第一前提是价格必须要便宜！今年2021年，很多芯片都涨价涨的不像样了，想买便宜点的芯片只能选择国产芯片了。对于国产芯片又在做串口芯片的那么其实只有一家可选，那就是[南京沁恒微电子](http://www.wch.cn/products/CH340.html)了。沁恒微电子的产品最出名的就是ch340系列，这个系列就是USB转串口芯片，而对于我来说，用以前的ch340来说体积太大了，我只用串口来传输数据而已，体积太大完全没意义。因此我选了沁恒新推出的[CH340K](http://www.wch.cn/products/CH340.html)芯片，ssop10的封装已经很小了。

## 3. 乐鑫系自动下载电路分析

[关于整个下载电路分析，这篇文章是分析的最彻底的，在阐述之前我有必要把文章贴出来。](https://zhuanlan.zhihu.com/p/145369083?from_voters_page=true)
## 4. 下载器原理图分析

## 5. 下载器测试